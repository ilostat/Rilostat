<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Read Ilostat Data — get_ilostat • Rilostat</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Read Ilostat Data — get_ilostat"><meta property="og:description" content="Download datasets from ilostat https://ilostat.ilo.org via bulk download facility
https://ilostat.ilo.org/data/bulk/."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140141628-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-140141628-1');
</script></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Rilostat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/Rilostat.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/RilostatVisu.html">Visualisation</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ilostat/Rilostat" class="external-link">
    <span class="fa fa-github fa-lg"></span>

  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>

    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read Ilostat Data</h1>
    <small class="dont-index">Source: <a href="https://github.com/ilostat/Rilostat/blob/master/R/get_ilostat.R" class="external-link"><code>R/get_ilostat.R</code></a></small>
    <div class="hidden name"><code>get_ilostat.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Download datasets from ilostat <a href="https://ilostat.ilo.org" class="external-link">https://ilostat.ilo.org</a> via bulk download facility
<a href="https://ilostat.ilo.org/data/bulk/" class="external-link">https://ilostat.ilo.org/data/bulk/</a>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_ilostat</span><span class="op">(</span></span>
<span>  <span class="va">id</span>,</span>
<span>  segment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ilostat_segment"</span>, <span class="st">"indicator"</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ilostat_type"</span>, <span class="st">"code"</span><span class="op">)</span>,</span>
<span>  lang <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ilostat_lang"</span>, <span class="st">"en"</span><span class="op">)</span>,</span>
<span>  time_format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ilostat_time_format"</span>, <span class="st">"raw"</span><span class="op">)</span>,</span>
<span>  filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ilostat_filter"</span>, <span class="st">"none"</span><span class="op">)</span>,</span>
<span>  fixed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ilostat_fixed"</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  detail <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ilostat_detail"</span>, <span class="st">"full"</span><span class="op">)</span>,</span>
<span>  cache <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ilostat_cache"</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  cache_update <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ilostat_cache_update"</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  cache_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ilostat_cache_dir"</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  cache_format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ilostat_cache_format"</span>, <span class="st">"rds"</span><span class="op">)</span>,</span>
<span>  back <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ilostat_back"</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  cmd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ilostat_cmd"</span>, <span class="st">"none"</span><span class="op">)</span>,</span>
<span>  quiet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ilostat_quiet"</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-id">id<a class="anchor" aria-label="anchor" href="#arg-id"></a></dt>
<dd><p>A code name for the dataset of interest.
See <code><a href="get_ilostat_toc.html">get_ilostat_toc</a></code> or details for how to get code.</p></dd>


<dt id="arg-segment">segment<a class="anchor" aria-label="anchor" href="#arg-segment"></a></dt>
<dd><p>A character, way to get datasets by: <code>"indicator"</code> (default) or <code>"ref_area"</code>.
Can be set also with options(ilostat_segment = 'ref_area'),</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>a character, type of variables, <code>"code"</code> (default), <code>"label"</code> or <code>"both"</code>.
Can be set also with options(ilostat_type = 'both'),</p></dd>


<dt id="arg-lang">lang<a class="anchor" aria-label="anchor" href="#arg-lang"></a></dt>
<dd><p>a character, code for language. Available are <code>"en"</code> (default),
<code>"fr"</code> and <code>"es"</code>. Can be set also with options(ilostat_lang = 'fr'),</p></dd>


<dt id="arg-time-format">time_format<a class="anchor" aria-label="anchor" href="#arg-time-format"></a></dt>
<dd><p>a string giving a type of the conversion of the time
column from the ilostat format. "raw" (default)
does not do conversion and return time as character (ie. '2017', '2017Q1', '2017M01'). A "date" converted to
a <code><a href="https://rdrr.io/r/base/Dates.html" class="external-link">Date</a></code> with a first date of the period. A "date_last" converted to a <code><a href="https://rdrr.io/r/base/Dates.html" class="external-link">Date</a></code> with
a last date of the period and "num" converted to a numeric. Can be set also with
options(ilostat_time_format = 'date'),</p></dd>


<dt id="arg-filters">filters<a class="anchor" aria-label="anchor" href="#arg-filters"></a></dt>
<dd><p>a list; <code>"none"</code> (default) to get a whole dataset or a named list of
filters to get just part of the table. Names of list objects are
ilostat variable codes and values are vectors of observation codes.
filters detect on variables, so could be partial, ie. <code>list(sex = 'T')</code> is
enough but equivalent to <code>list(sex = 'SEX_T')</code>. Additional options:</p><ul><li><p><code>timefrom</code> : starting year of the return dataset,</p></li>
<li><p><code>timeto</code> : ending year of the return dataset.</p></li>
</ul></dd>


<dt id="arg-fixed">fixed<a class="anchor" aria-label="anchor" href="#arg-fixed"></a></dt>
<dd><p>a logical, if <code>TRUE</code> (default), filters arguments pattern is a string to be matched as is,
Change to <code>FALSE</code> if more complex regex matching is needed.</p></dd>


<dt id="arg-detail">detail<a class="anchor" aria-label="anchor" href="#arg-detail"></a></dt>
<dd><p>a character, <code>'full'</code> (default), whether <code>'serieskeysonly'</code>, return
   only key, no data, no notes or <code>dataonly</code> return key and data, no notes or <code>'bestsourceonly'</code> return
best source only at the series key levels, see details.
   Can be set also with options(ilostat_detail = 'serieskeysonly'),</p></dd>


<dt id="arg-cache">cache<a class="anchor" aria-label="anchor" href="#arg-cache"></a></dt>
<dd><p>a logical whether to do caching. Default is <code>TRUE</code>. Affects
    only queries from the ilostat bulk download facility.
Can be set also with options(ilostat_cache = FALSE),</p></dd>


<dt id="arg-cache-update">cache_update<a class="anchor" aria-label="anchor" href="#arg-cache-update"></a></dt>
<dd><p>a logical whether to update cache. Check cache update with last.update attribute store on the cache file name
 and the one from the table of contents. Can be set also with
options(ilostat_cache_update = FALSE). Default is <code>TRUE</code>,</p></dd>


<dt id="arg-cache-dir">cache_dir<a class="anchor" aria-label="anchor" href="#arg-cache-dir"></a></dt>
<dd><p>a path to a cache directory. The directory has to exist.
The <code>NULL</code> (default) uses and creates
'ilostat' directory in the temporary directory from
<code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></code>. The directory can also be set with
<code>option</code> ilostat_cache_dir,</p></dd>


<dt id="arg-cache-format">cache_format<a class="anchor" aria-label="anchor" href="#arg-cache-format"></a></dt>
<dd><p>a character, format to store on the cache <code>"rds"</code> (default), but also <code>"csv"</code>, <code>"dta"</code>,
<code>"sav"</code>, <code>"sas7bdat"</code>. useful for getting ilostat dataset directly on the <code>cache_dir</code> without R.
     Can be set also with options(ilostat_cache_format = 'dta'),</p></dd>


<dt id="arg-back">back<a class="anchor" aria-label="anchor" href="#arg-back"></a></dt>
<dd><p>a logical, <code>TRUE</code> return dataframe on R or not <code>FALSE</code>, useful for just saving file in specific <code>cache_format</code>,</p></dd>


<dt id="arg-cmd">cmd<a class="anchor" aria-label="anchor" href="#arg-cmd"></a></dt>
<dd><p>a character, R expression use for manipulate internal data frame <code>dat</code> object applied to each datasets retrieved
If use, <code>cache</code> is set to FALSE. see examples.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>a logical, if <code>TRUE</code> , don't return message from processing, <code>FALSE</code> (default).
Can be set also with options(ilostat_quiet = TRUE),</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>a tibble. One column for each dimension in the data and
        the values column for numerical values, as well as the metadata columns.
        The time column for a time dimension.</p>
    </div>
    <div id="others">
    <h2>others</h2>



<p>Data sets are downloaded from the
  ilostat bulk download facility.
  If only the table <code>id</code> is given, the whole table is downloaded from the
  bulk download facility.</p>
<p>The bulk download facility is the fastest method to download whole datasets.
  It is also often the only way as the sdmx API has limitation of maximum
  300 000 records at the same time and whole datasets usually exceeds that.</p>
<p>By default datasets from the bulk download facility are cached as they are
  often rather large.</p>
<p>Cache files are stored in a temporary directory by default or in
  a named directory if cache_dir or option ilostat_cache_dir is defined.
  The cache can be emptied with <code><a href="clean_ilostat_cache.html">clean_ilostat_cache</a></code>.</p>
<p>The <code>id</code>, a code, for the dataset can be searched with
  the <code><a href="get_ilostat_toc.html">get_ilostat_toc</a></code> or from the [bulk download facility](https://ilostat.ilo.org/data/bulk/).</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>See citation("Rilostat")
ilostat bulk download facility user guidelines <a href="https://ilostat.ilo.org/data/bulk/" class="external-link">https://ilostat.ilo.org/data/bulk/</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="get_ilostat_toc.html">get_ilostat_toc</a></code>, <code><a href="label_ilostat.html">label_ilostat</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>David Bescond <a href="mailto:bescond@ilo.org">bescond@ilo.org</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co">############# get simple dataset</span></span></span>
<span class="r-in"><span> <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">get_ilostat</span><span class="op">(</span><span class="st">"UNE_2UNE_SEX_AGE_NB_A"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">get_ilostat</span><span class="op">(</span><span class="st">"NZL_Q"</span>, segment <span class="op">=</span> <span class="st">"ref_area"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"r_cache"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">get_ilostat</span><span class="op">(</span><span class="st">"UNE_2UNE_SEX_AGE_NB_A"</span>, </span></span>
<span class="r-in"><span>                  cache_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"r_cache"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="fu"><a href="clean_ilostat_cache.html">clean_ilostat_cache</a></span><span class="op">(</span>cache_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"r_cache"</span><span class="op">)</span><span class="op">)</span> </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>ilostat_update <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">get_ilostat</span><span class="op">(</span><span class="st">"UNE_2UNE_SEX_AGE_NB_A"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>ilostat_update <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>ilostat_cache_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"r_cache"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">get_ilostat</span><span class="op">(</span><span class="st">"UNE_2UNE_SEX_AGE_NB_A"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="fu"><a href="clean_ilostat_cache.html">clean_ilostat_cache</a></span><span class="op">(</span><span class="op">)</span> </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">############# get multiple datasets</span></span></span>
<span class="r-in"><span> <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">get_ilostat</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CPI_ACPI_COI_RT_M"</span>, <span class="st">'CPI_ACPI_COI_RT_Q'</span><span class="op">)</span>, cache <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">toc</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_ilostat_toc.html">get_ilostat_toc</a></span><span class="op">(</span>search <span class="op">=</span> <span class="st">'CPI_'</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">toc</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">get_ilostat</span><span class="op">(</span><span class="va">toc</span>, cache <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co">#id as a tibble</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">############# get datasets with filters</span></span></span>
<span class="r-in"><span> <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">get_ilostat</span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"UNE_2UNE_SEX_AGE_NB_A"</span>, <span class="st">'EMP_2EMP_SEX_AGE_NB_A'</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>     filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>  ref_area <span class="op">=</span> <span class="st">"FRA"</span>, </span></span>
<span class="r-in"><span>     classif1 <span class="op">=</span> <span class="st">"AGE_YTHADULT_YGE15"</span>, </span></span>
<span class="r-in"><span>     time <span class="op">=</span> <span class="st">"2016"</span>,</span></span>
<span class="r-in"><span>     sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"T"</span>, <span class="st">'SEX_F'</span><span class="op">)</span><span class="op">)</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="clean_ilostat_cache.html">clean_ilostat_cache</a></span><span class="op">(</span><span class="op">)</span> </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">############# store in other format</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"ilostat"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">get_ilostat</span><span class="op">(</span><span class="st">"UNE_2UNE_SEX_AGE_NB_A"</span>, </span></span>
<span class="r-in"><span>                  cache_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"r_cache"</span><span class="op">)</span>, cache_format <span class="op">=</span> <span class="st">'csv'</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">get_ilostat</span><span class="op">(</span><span class="st">"UNE_2UNE_SEX_AGE_NB_A"</span>, </span></span>
<span class="r-in"><span>                  cache_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"r_cache"</span><span class="op">)</span>, cache_format <span class="op">=</span> <span class="st">'dta'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">############# advanced manipulation</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">get_ilostat</span><span class="op">(</span><span class="st">"UNE_2UNE_SEX_AGE_NB_A"</span>, cmd <span class="op">=</span> <span class="st">"dat %&gt;% count(ref_area)"</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="label_ilostat.html">label_ilostat</a></span><span class="op">(</span><span class="va">dat</span>, code <span class="op">=</span> <span class="st">'ref_area'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="fu"><a href="clean_ilostat_cache.html">clean_ilostat_cache</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Bescond, ILO Department of Statistics.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({


    apiKey: '5bb9805eecd1b1c2d12958ea75a8e9e8',
    indexName: 'rilostat',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

